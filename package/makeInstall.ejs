#
#	makeInstall.ejs - Called by makeInstall
#
#	Copyright (c) Embedthis Software LLC, 2003-2012. All Rights Reserved.
#
################################################################################

#
#	Configure a product
#
#	Usage:	configureProduct configure|initialize|install|remove|start|stop
#
configureProduct() {

	local action sw

	[ "$DRY_RUN" = 1 ] && return

	action=$1

	case $action in
	cleanup)
        # Legacy
		rm -f "${BLD_CFG_PREFIX}/${BLD_PRODUCT}Install.conf"
		rm -f "${BLD_PRD_PREFIX}/install.conf"
		rm -f "${BLD_CFG_PREFIX}/${BLD_PRODUCT}/fileList.txt"
		rm -f "${BLD_INC_PREFIX}/fileList.txt"
		rm -f "/usr/share/${BLD_PRODUCT}/fileList.txt"
		;;

    complete)
        [ $TASK != Package -a $QUIET = 0 ] && echo -e "#\n#  ${TASK} Complete\n#" ; true
        ;;

	configure)
		# [ $QUIET = 0 ] && echo -e "\n#\n#  Configuring ${BLD_NAME}\n#"
		;;

	copy)
		;;

	initialize)
		# echo -e "\n#\n#  Initializing ...\n#"
        #
        #   Cleanup for 0.9.6 and before
        #
        rm -f /usr/bin/ejs.mod
        rm -f /usr/bin/ejs.db.mod
        rm -f /usr/bin/ejs.web.mod
        rm -f /usr/bin/ejs.web.parser.mod

        rm -f /usr/lib/ejs/ejs.mod
        rm -f /usr/lib/ejs/ejs.db.mod
        rm -f /usr/lib/ejs/ejs.web.mod
        rm -f /usr/lib/ejs/ejs.web.parser.mod

        rm -f /usr/bin/egen
        rm -f /usr/bin/ec
        rm -f /usr/bin/ecgi
		;;
	
	install)
		;;

	remove)
		;;

	start|stop)
		;;

	esac
}
